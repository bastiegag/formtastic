!function(t,d){var n=function(t,e){return this instanceof n?this._init(t,e):new n(t,e)};n.fn=n.prototype={_color:0,_alpha:1,error:!1,_hsl:{h:0,s:0,l:0},_hsv:{h:0,s:0,v:0},_hSpace:"hsl",_init:function(t){var e="noop";switch(typeof t){case"object":return t.a!==d&&this.a(t.a),this[e=t.r!==d?"fromRgb":t.l!==d?"fromHsl":t.v!==d?"fromHsv":e](t);case"string":return this.fromCSS(t);case"number":return this.fromInt(parseInt(t,10))}return this},_error:function(){return this.error=!0,this},clone:function(){for(var t=new n(this.toInt()),e=["_alpha","_hSpace","_hsl","_hsv","error"],i=e.length-1;0<=i;i--)t[e[i]]=this[e[i]];return t},setHSpace:function(t){return this._hSpace="hsv"===t?t:"hsl",this},noop:function(){return this},fromCSS:function(t){var e,i=/^(rgb|hs(l|v))a?\(/;if(this.error=!1,(t=t.replace(/^\s+/,"").replace(/\s+$/,"").replace(/;$/,"")).match(i)&&t.match(/\)$/)){if((e=t.replace(/(\s|%)/g,"").replace(i,"").replace(/,?\);?$/,"").split(",")).length<3)return this._error();if(4===e.length&&(this.a(parseFloat(e.pop())),this.error))return this;for(var r=e.length-1;0<=r;r--)if(e[r]=parseInt(e[r],10),isNaN(e[r]))return this._error();return t.match(/^rgb/)?this.fromRgb({r:e[0],g:e[1],b:e[2]}):t.match(/^hsv/)?this.fromHsv({h:e[0],s:e[1],v:e[2]}):this.fromHsl({h:e[0],s:e[1],l:e[2]})}return this.fromHex(t)},fromRgb:function(t,e){return"object"!=typeof t||t.r===d||t.g===d||t.b===d?this._error():(this.error=!1,this.fromInt(parseInt((t.r<<16)+(t.g<<8)+t.b,10),e))},fromHex:function(t){return 3===(t=t.replace(/^#/,"").replace(/^0x/,"")).length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),this.error=!/^[0-9A-F]{6}$/i.test(t),this.fromInt(parseInt(t,16))},fromHsl:function(t){var e,i,r,s,a,n,o,l;return"object"!=typeof t||t.h===d||t.s===d||t.l===d?this._error():(this._hsl=t,this._hSpace="hsl",n=t.h/360,o=t.s/100,l=t.l/100,0==o?e=i=r=l:(a=2*l-(s=l<.5?l*(1+o):l+o-l*o),e=this.hue2rgb(a,s,n+1/3),i=this.hue2rgb(a,s,n),r=this.hue2rgb(a,s,n-1/3)),this.fromRgb({r:255*e,g:255*i,b:255*r},!0))},fromHsv:function(t){var e,i,r,s,a,n,o,l,h,u,c;if("object"!=typeof t||t.h===d||t.s===d||t.v===d)return this._error();switch(this._hsv=t,this._hSpace="hsv",e=t.h/360,i=t.s/100,h=(r=t.v/100)*(1-i),u=r*(1-(l=6*e-(o=Math.floor(6*e)))*i),c=r*(1-(1-l)*i),o%6){case 0:s=r,a=c,n=h;break;case 1:s=u,a=r,n=h;break;case 2:s=h,a=r,n=c;break;case 3:s=h,a=u,n=r;break;case 4:s=c,a=h,n=r;break;case 5:s=r,a=h,n=u}return this.fromRgb({r:255*s,g:255*a,b:255*n},!0)},fromInt:function(t,e){return this._color=parseInt(t,10),isNaN(this._color)&&(this._color=0),16777215<this._color?this._color=16777215:this._color<0&&(this._color=0),e===d&&(this._hsv.h=this._hsv.s=this._hsl.h=this._hsl.s=0),this},hue2rgb:function(t,e,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},toString:function(){var t=parseInt(this._color,10).toString(16);if(this.error)return"";if(t.length<6)for(var e=6-t.length-1;0<=e;e--)t="0"+t;return"#"+t},toCSS:function(t,e){switch(t=t||"hex",e=parseFloat(e||this._alpha),t){case"rgb":case"rgba":var i=this.toRgb();return e<1?"rgba( "+i.r+", "+i.g+", "+i.b+", "+e+" )":"rgb( "+i.r+", "+i.g+", "+i.b+" )";case"hsl":case"hsla":var r=this.toHsl();return e<1?"hsla( "+r.h+", "+r.s+"%, "+r.l+"%, "+e+" )":"hsl( "+r.h+", "+r.s+"%, "+r.l+"% )";default:return this.toString()}},toRgb:function(){return{r:255&this._color>>16,g:255&this._color>>8,b:255&this._color}},toHsl:function(){var t,e,i=this.toRgb(),r=i.r/255,s=i.g/255,a=i.b/255,n=Math.max(r,s,a),o=Math.min(r,s,a),l=(n+o)/2;if(n===o)t=e=0;else{var h=n-o;switch(e=.5<l?h/(2-n-o):h/(n+o),n){case r:t=(s-a)/h+(s<a?6:0);break;case s:t=(a-r)/h+2;break;case a:t=(r-s)/h+4}t/=6}return 0===(t=Math.round(360*t))&&this._hsl.h!==t&&(t=this._hsl.h),0===(e=Math.round(100*e))&&this._hsl.s&&(e=this._hsl.s),{h:t,s:e,l:Math.round(100*l)}},toHsv:function(){var t,e,i=this.toRgb(),r=i.r/255,s=i.g/255,a=i.b/255,n=Math.max(r,s,a),o=Math.min(r,s,a),l=n,h=n-o;if(e=0===n?0:h/n,n===o)t=e=0;else{switch(n){case r:t=(s-a)/h+(s<a?6:0);break;case s:t=(a-r)/h+2;break;case a:t=(r-s)/h+4}t/=6}return 0===(t=Math.round(360*t))&&this._hsv.h!==t&&(t=this._hsv.h),0===(e=Math.round(100*e))&&this._hsv.s&&(e=this._hsv.s),{h:t,s:e,v:Math.round(100*l)}},toInt:function(){return this._color},toIEOctoHex:function(){var t=this.toString(),e=parseInt(255*this._alpha,10).toString(16);return 1===e.length&&(e="0"+e),"#"+e+t.replace(/^#/,"")},toLuminosity:function(){var t=this.toRgb(),e={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i]/255;e[i]=r<=.03928?r/12.92:Math.pow((.055+r)/1.055,2.4)}return.2126*e.r+.7152*e.g+.0722*e.b},getDistanceLuminosityFrom:function(t){if(!(t instanceof n))throw"getDistanceLuminosityFrom requires a Color object";var e=this.toLuminosity(),i=t.toLuminosity();return i<e?(e+.05)/(i+.05):(i+.05)/(e+.05)},getMaxContrastColor:function(){var t=this.getDistanceLuminosityFrom(new n("#000")),e=this.getDistanceLuminosityFrom(new n("#fff"));return new n(e<=t?"#000":"#fff")},getReadableContrastingColor:function(t,e){if(!(t instanceof n))return this;var i,r,s=e===d?5:e,a=t.getDistanceLuminosityFrom(this);if(s<=a)return this;if((i=t.getMaxContrastColor()).getDistanceLuminosityFrom(t)<=s)return i;for(r=0===i.toInt()?-1:1;a<s&&(this.l(r,!0),a=this.getDistanceLuminosityFrom(t),0!==this._color&&16777215!==this._color););return this},a:function(t){if(t===d)return this._alpha;var e=parseFloat(t);return isNaN(e)?this._error():(this._alpha=e,this)},darken:function(t){return t=t||5,this.l(-t,!0)},lighten:function(t){return t=t||5,this.l(t,!0)},saturate:function(t){return t=t||15,this.s(t,!0)},desaturate:function(t){return t=t||15,this.s(-t,!0)},toGrayscale:function(){return this.setHSpace("hsl").s(0)},getComplement:function(){return this.h(180,!0)},getSplitComplement:function(t){var e=180+30*(t=t||1);return this.h(e,!0)},getAnalog:function(t){var e=30*(t=t||1);return this.h(e,!0)},getTetrad:function(t){var e=60*(t=t||1);return this.h(e,!0)},getTriad:function(t){var e=120*(t=t||1);return this.h(e,!0)},_partial:function(r){var s=e[r];return function(t,e){var i=this._spaceFunc("to",s.space);return t===d?i[r]:(!0===e&&(t=i[r]+t),s.mod&&(t%=s.mod),s.range&&(t=t<s.range[0]?s.range[0]:t>s.range[1]?s.range[1]:t),i[r]=t,this._spaceFunc("from",s.space,i))}},_spaceFunc:function(t,e,i){var r=e||this._hSpace;return this[t+r.charAt(0).toUpperCase()+r.substr(1)](i)}};var e={h:{mod:360},s:{range:[0,100]},l:{space:"hsl",range:[0,100]},v:{space:"hsv",range:[0,100]},r:{space:"rgb",range:[0,255]},g:{space:"rgb",range:[0,255]},b:{space:"rgb",range:[0,255]}};for(var i in e)e.hasOwnProperty(i)&&(n.fn[i]=n.fn._partial(i));"object"==typeof exports?module.exports=n:t.Color=n}(this),function(d){var r,s,a,n,t,o,l,h;if(r='<div class="iris-picker"><div class="iris-picker-inner"><div class="iris-square"><a class="iris-square-value" href="#"><span class="iris-square-handle ui-slider-handle"></span></a><div class="iris-square-inner iris-square-horiz"></div><div class="iris-square-inner iris-square-vert"></div></div><div class="iris-slider iris-strip"><div class="iris-slider-offset"></div></div></div></div>','.iris-picker{display:block;position:relative}.iris-picker,.iris-picker *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input+.iris-picker{margin-top:4px}.iris-error{background-color:#ffafaf}.iris-border{border-radius:3px;border:1px solid #aaa;width:200px;background-color:#fff}.iris-picker-inner{position:absolute;top:0;right:0;left:0;bottom:0}.iris-border .iris-picker-inner{top:10px;right:10px;left:10px;bottom:10px}.iris-picker .iris-square-inner{position:absolute;left:0;right:0;top:0;bottom:0}.iris-picker .iris-square,.iris-picker .iris-slider,.iris-picker .iris-square-inner,.iris-picker .iris-palette{border-radius:3px;box-shadow:inset 0 0 5px rgba(0,0,0,.4);height:100%;width:12.5%;float:left;margin-right:5%}.iris-picker .iris-square{width:76%;margin-right:10%;position:relative}.iris-picker .iris-square-inner{width:auto;margin:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-square-inner,.iris-ie-9 .iris-palette{box-shadow:none;border-radius:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-palette{outline:1px solid rgba(0,0,0,.1)}.iris-ie-lt9 .iris-square,.iris-ie-lt9 .iris-slider,.iris-ie-lt9 .iris-square-inner,.iris-ie-lt9 .iris-palette{outline:1px solid #aaa}.iris-ie-lt9 .iris-square .ui-slider-handle{outline:1px solid #aaa;background-color:#fff;-ms-filter:"alpha(Opacity=30)"}.iris-ie-lt9 .iris-square .iris-square-handle{background:0;border:3px solid #fff;-ms-filter:"alpha(Opacity=50)"}.iris-picker .iris-strip{margin-right:0;position:relative}.iris-picker .iris-strip .ui-slider-handle{position:absolute;background:0;margin:0;right:-3px;left:-3px;border:4px solid #aaa;border-width:4px 3px;width:auto;height:6px;border-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,.2);opacity:.9;z-index:5;cursor:ns-resize}.iris-strip .ui-slider-handle:before{content:" ";position:absolute;left:-2px;right:-2px;top:-3px;bottom:-3px;border:2px solid #fff;border-radius:3px}.iris-picker .iris-slider-offset{position:absolute;top:11px;left:0;right:0;bottom:-3px;width:auto;height:auto;background:transparent;border:0;border-radius:0}.iris-picker .iris-square-handle{background:transparent;border:5px solid #aaa;border-radius:50%;border-color:rgba(128,128,128,.5);box-shadow:none;width:12px;height:12px;position:absolute;left:-10px;top:-10px;cursor:move;opacity:1;z-index:10}.iris-picker .ui-state-focus .iris-square-handle{opacity:.8}.iris-picker .iris-square-handle:hover{border-color:#999}.iris-picker .iris-square-value:focus .iris-square-handle{box-shadow:0 0 2px rgba(0,0,0,.75);opacity:.8}.iris-picker .iris-square-handle:hover::after{border-color:#fff}.iris-picker .iris-square-handle::after{position:absolute;bottom:-4px;right:-4px;left:-4px;top:-4px;border:3px solid #f9f9f9;border-color:rgba(255,255,255,.8);border-radius:50%;content:" "}.iris-picker .iris-square-value{width:8px;height:8px;position:absolute}.iris-ie-lt9 .iris-square-value,.iris-mozilla .iris-square-value{width:1px;height:1px}.iris-palette-container{position:absolute;bottom:0;left:0;margin:0;padding:0}.iris-border .iris-palette-container{left:10px;bottom:10px}.iris-picker .iris-palette{margin:0;cursor:pointer}.iris-square-handle,.ui-slider-handle{border:0;outline:0}',o=navigator.userAgent.toLowerCase(),l="Microsoft Internet Explorer"===navigator.appName,h=l?parseFloat(o.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,a=!1,n=["-moz-","-webkit-","-o-","-ms-"],(s=l&&h<10)&&h<=7)return d.fn.iris=d.noop,d.support.iris=!1;function e(t,e){return t="top"===t?"top":"left",e=d.isArray(e)?e:Array.prototype.slice.call(arguments,1),"webkit"===a?function(t,e){var i=[];return t="top"===t?"0% 0%,0% 100%,":"0% 100%,100% 100%,",e=u(e),d.each(e,function(t,e){i.push("color-stop("+parseFloat(e.stop)/100+", "+e.color+")")}),"-webkit-gradient(linear,"+t+i.join(",")+")"}(t,e):n[a]+"linear-gradient("+t+", "+e.join(", ")+")"}function u(t){var a=[],n=[],e=[],i=t.length-1;return d.each(t,function(t,e){var i=e,r=!1,s=e.match(/1?[0-9]{1,2}%$/);s&&(i=e.replace(/\s?1?[0-9]{1,2}%$/,""),r=s.shift()),a.push(i),n.push(r)}),!1===n[0]&&(n[0]="0%"),!1===n[i]&&(n[i]="100%"),n=function t(e){var i,r,s,a,n=0,o=e.length-1,l=0,h=!1;if(e.length<=2||d.inArray(!1,e)<0)return e;for(;l<e.length-1;)h||!1!==e[l]?h&&!1!==e[l]&&(o=l,l=e.length):(n=l-1,h=!0),l++;r=o-n;a=parseInt(e[n].replace("%"),10);i=(parseFloat(e[o].replace("%"))-a)/r;l=n+1;s=1;for(;l<o;)e[l]=a+s*i+"%",s++,l++;return t(e)}(n),d.each(n,function(t){e[t]={color:a[t],stop:n[t]}}),e}d.support.iris=!0,d.fn.gradient=function(){var t=arguments;return this.each(function(){s?function(t,a){var n,e,o,l,h;t="top"===t?"top":"left",a=d.isArray(a)?a:Array.prototype.slice.call(arguments,1),n="top"===t?0:1,e=d(this),o=a.length-1,l='<div class="iris-ie-gradient-shim" style="position:absolute;'+(1==n?"height":"width")+":100%;"+(1==n?"left":"top")+":%start%;"+(1==n?"right":"bottom")+':%end%;filter:%filter%;" data-color:"%color%"></div>',h="","static"===e.css("position")&&e.css({position:"relative"}),a=u(a),d.each(a,function(t,e){var i,r,s;if(t===o)return!1;i=a[t+1],e.stop!==i.stop&&(r=100-parseFloat(i.stop)+"%",e.octoHex=new Color(e.color).toIEOctoHex(),i.octoHex=new Color(i.color).toIEOctoHex(),s="progid:DXImageTransform.Microsoft.Gradient(GradientType="+n+", StartColorStr='"+e.octoHex+"', EndColorStr='"+i.octoHex+"')",h+=l.replace("%start%",e.stop).replace("%end%",r).replace("%filter%",s))}),e.find(".iris-ie-gradient-shim").remove(),d(h).prependTo(e)}.apply(this,t):d(this).css("backgroundImage",e.apply(this,t))})},t={options:{color:!(d.fn.raninbowGradient=function(t,e){var i,r,s,a;for(t=t||"top",r="hsl(%h%,"+(i=d.extend({},{s:100,l:50},e)).s+"%,"+i.l+"%)",s=0,a=[];s<=360;)a.push(r.replace("%h%",s)),s+=30;return this.each(function(){d(this).gradient(t,a)})}),mode:"hsl",controls:{horiz:"s",vert:"l",strip:"h"},hide:!0,border:!0,target:!1,width:200,palettes:!1},_color:"",_palettes:["#000","#fff","#d33","#d93","#ee2","#81d742","#1e73be","#8224e3"],_inited:!1,_defaultHSLControls:{horiz:"s",vert:"l",strip:"h"},_defaultHSVControls:{horiz:"h",vert:"v",strip:"s"},_scale:{h:360,s:100,l:100,v:100},_create:function(){var t=this,e=t.element,i=t.options.color||e.val();!1===a&&function(){var i,r="backgroundImage";s?a="filter":(i=d('<div id="iris-gradtest" />'),d.each(n,function(t,e){if(i.css(r,e+"linear-gradient(top,#fff,#000)"),i.css(r).match("gradient"))return a=t,!1}),!1===a&&(i.css("background","-webkit-gradient(linear,0% 0%,0% 100%,from(#fff),to(#000))"),i.css(r).match("gradient")&&(a="webkit")),i.remove())}(),e.is("input")?(t.options.target?t.picker=d(r).appendTo(t.options.target):t.picker=d(r).insertAfter(e),t._addInputListeners(e)):(e.append(r),t.picker=e.find(".iris-picker")),l?9===h?t.picker.addClass("iris-ie-9"):h<=8&&t.picker.addClass("iris-ie-lt9"):o.indexOf("compatible")<0&&o.indexOf("khtml")<0&&o.match(/mozilla/)&&t.picker.addClass("iris-mozilla"),t.options.palettes&&t._addPalettes(),t._color=new Color(i).setHSpace(t.options.mode),t.options.color=t._color.toString(),t.controls={square:t.picker.find(".iris-square"),squareDrag:t.picker.find(".iris-square-value"),horiz:t.picker.find(".iris-square-horiz"),vert:t.picker.find(".iris-square-vert"),strip:t.picker.find(".iris-strip"),stripSlider:t.picker.find(".iris-strip .iris-slider-offset")},"hsv"===t.options.mode&&t._has("l",t.options.controls)?t.options.controls=t._defaultHSVControls:"hsl"===t.options.mode&&t._has("v",t.options.controls)&&(t.options.controls=t._defaultHSLControls),t.hue=t._color.h(),t.options.hide&&t.picker.hide(),t.options.border&&t.picker.addClass("iris-border"),t._initControls(),t.active="external",t._dimensions(),t._change()},_has:function(i,t){var r=!1;return d.each(t,function(t,e){if(i===e)return!(r=!0)}),r},_addPalettes:function(){var i=d('<div class="iris-palette-container" />'),r=d('<a class="iris-palette" tabindex="0" />'),t=d.isArray(this.options.palettes)?this.options.palettes:this._palettes;this.picker.find(".iris-palette-container").length&&(i=this.picker.find(".iris-palette-container").detach().html("")),d.each(t,function(t,e){r.clone().data("color",e).css("backgroundColor",e).appendTo(i).height(10).width(10)}),this.picker.append(i)},_paint:function(){this._paintDimension("top","strip"),this._paintDimension("top","vert"),this._paintDimension("left","horiz")},_paintDimension:function(t,e){var i,r=this,s=r._color,a=r.options.mode,n=r._getHSpaceColor(),o=r.controls[e],l=r.options.controls;if(e!==r.active&&("square"!==r.active||"strip"===e))switch(l[e]){case"h":if("hsv"===a){switch(n=s.clone(),e){case"horiz":n[l.vert](100);break;case"vert":n[l.horiz](100);break;case"strip":n.setHSpace("hsl")}i=n.toHsl()}else i="strip"===e?{s:n.s,l:n.l}:{s:100,l:n.l};o.raninbowGradient(t,i);break;case"s":"hsv"===a?"vert"===e?i=[s.clone().a(0).s(0).toCSS("rgba"),s.clone().a(1).s(0).toCSS("rgba")]:"strip"===e?i=[s.clone().s(100).toCSS("hsl"),s.clone().s(0).toCSS("hsl")]:"horiz"===e&&(i=["#fff","hsl("+n.h+",100%,50%)"]):i="vert"===e&&"h"===r.options.controls.horiz?["hsla(0, 0%, "+n.l+"%, 0)","hsla(0, 0%, "+n.l+"%, 1)"]:["hsl("+n.h+",0%,50%)","hsl("+n.h+",100%,50%)"],o.gradient(t,i);break;case"l":i="strip"===e?["hsl("+n.h+",100%,100%)","hsl("+n.h+", "+n.s+"%,50%)","hsl("+n.h+",100%,0%)"]:["#fff","rgba(255,255,255,0) 50%","rgba(0,0,0,0) 50%","rgba(0,0,0,1)"],o.gradient(t,i);break;case"v":i="strip"===e?[s.clone().v(100).toCSS(),s.clone().v(0).toCSS()]:["rgba(0,0,0,0)","#000"],o.gradient(t,i)}},_getHSpaceColor:function(){return"hsv"===this.options.mode?this._color.toHsv():this._color.toHsl()},_dimensions:function(t){var e,i,r,s=this,a=s.options,n=s.controls.square,o=s.picker.find(".iris-strip"),l="77.5%",h="12%",u=a.border?a.width-20:a.width,c=d.isArray(a.palettes)?a.palettes.length:s._palettes.length;if(t&&(n.css("width",""),o.css("width",""),s.picker.css({width:"",height:""})),l=u*(parseFloat(l)/100),h=u*(parseFloat(h)/100),e=a.border?l+20:l,n.width(l).height(l),o.height(l).width(h),s.picker.css({width:a.width,height:e}),!a.palettes)return s.picker.css("paddingBottom","");r=(l-(c-1)*(i=2*l/100))/c,s.picker.find(".iris-palette").each(function(t){var e=0===t?0:i;d(this).css({width:r,height:r,marginLeft:e})}),s.picker.css("paddingBottom",r+i),o.height(r+i+l)},_addInputListeners:function(r){function t(t){var e=new Color(r.val()),i=r.val().replace(/^#/,"");r.removeClass("iris-error"),e.error?""!==i&&r.addClass("iris-error"):e.toString()!==s._color.toString()&&("keyup"===t.type&&i.match(/^[0-9a-fA-F]{3}$/)||s._setOption("color",e.toString()))}var s=this;r.on("change",t).on("keyup",s._debounce(t,100)),s.options.hide&&r.one("focus",function(){s.show()})},_initControls:function(){var a=this,n=a.controls,t=n.square,i=a.options.controls,r=a._scale[i.strip];n.stripSlider.slider({orientation:"vertical",max:r,slide:function(t,e){a.active="strip","h"===i.strip&&(e.value=r-e.value),a._color[i.strip](e.value),a._change.apply(a,arguments)}}),n.squareDrag.draggable({containment:n.square.find(".iris-square-inner"),zIndex:1e3,cursor:"move",drag:function(t,e){a._squareDrag(t,e)},start:function(){t.addClass("iris-dragging"),d(this).addClass("ui-state-focus")},stop:function(){t.removeClass("iris-dragging"),d(this).removeClass("ui-state-focus")}}).on("mousedown mouseup",function(t){var e="ui-state-focus";t.preventDefault(),"mousedown"===t.type?(a.picker.find("."+e).removeClass(e).blur(),d(this).addClass(e).focus()):d(this).removeClass(e)}).on("keydown",function(t){var e=n.square,i=n.squareDrag,r=i.position(),s=a.options.width/100;switch(t.altKey&&(s*=10),t.keyCode){case 37:r.left-=s;break;case 38:r.top-=s;break;case 39:r.left+=s;break;case 40:r.top+=s;break;default:return!0}r.left=Math.max(0,Math.min(r.left,e.width())),r.top=Math.max(0,Math.min(r.top,e.height())),i.css(r),a._squareDrag(t,{position:r}),t.preventDefault()}),t.mousedown(function(t){var e,i;1===t.which&&d(t.target).is("div")&&(e=a.controls.square.offset(),i={top:t.pageY-e.top,left:t.pageX-e.left},t.preventDefault(),a._squareDrag(t,{position:i}),t.target=a.controls.squareDrag.get(0),a.controls.squareDrag.css(i).trigger(t))}),a.options.palettes&&a._paletteListeners()},_paletteListeners:function(){var t=this;t.picker.find(".iris-palette-container").on("click.palette",".iris-palette",function(){t._color.fromCSS(d(this).data("color")),t.active="external",t._change()}).on("keydown.palette",".iris-palette",function(t){if(13!==t.keyCode&&32!==t.keyCode)return!0;t.stopPropagation(),d(this).click()})},_squareDrag:function(t,e){var i=this,r=i.options.controls,s=i._squareDimensions(),a=Math.round((s.h-e.position.top)/s.h*i._scale[r.vert]),n=i._scale[r.horiz]-Math.round((s.w-e.position.left)/s.w*i._scale[r.horiz]);i._color[r.horiz](n)[r.vert](a),i.active="square",i._change.apply(i,arguments)},_setOption:function(t,e){var i,r,s=this,a=s.options[t],n=!1;switch(s.options[t]=e,t){case"color":(e=""+e).replace(/^#/,""),(i=new Color(e).setHSpace(s.options.mode)).error?s.options[t]=a:(s._color=i,s.options.color=s.options[t]=s._color.toString(),s.active="external",s._change());break;case"palettes":n=!0,e?s._addPalettes():s.picker.find(".iris-palette-container").remove(),a||s._paletteListeners();break;case"width":n=!0;break;case"border":n=!0,r=e?"addClass":"removeClass",s.picker[r]("iris-border");break;case"mode":case"controls":if(a===e)return;return r=s.element,(a=s.options).hide=!s.picker.is(":visible"),s.destroy(),s.picker.remove(),d(s.element).iris(a)}n&&s._dimensions(!0)},_squareDimensions:function(t){var e,i=this.controls.square;return void 0!==t&&i.data("dimensions")?i.data("dimensions"):(this.controls.squareDrag,e={w:i.width(),h:i.height()},i.data("dimensions",e),e)},_isNonHueControl:function(t,e){return"square"===t&&"h"===this.options.controls.strip||"external"!==e&&("h"!==e||"strip"!==t)},_change:function(){var a=this,n=a.controls,o=a._getHSpaceColor(),t=["square","strip"],l=a.options.controls,e=l[a.active]||"external",i=a.hue;"strip"===a.active?t=[]:"external"!==a.active&&t.pop(),d.each(t,function(t,e){var i,r,s;if(e!==a.active)switch(e){case"strip":i="h"===l.strip?a._scale[l.strip]-o[l.strip]:o[l.strip],n.stripSlider.slider("value",i);break;case"square":r=a._squareDimensions(),s={left:o[l.horiz]/a._scale[l.horiz]*r.w,top:r.h-o[l.vert]/a._scale[l.vert]*r.h},a.controls.squareDrag.css(s)}}),o.h!==i&&a._isNonHueControl(a.active,e)&&a._color.h(i),a.hue=a._color.h(),a.options.color=a._color.toString(),a._inited&&a._trigger("change",{type:a.active},{color:a._color}),a.element.is(":input")&&!a._color.error&&(a.element.removeClass("iris-error"),a.element.val()!==a._color.toString()&&a.element.val(a._color.toString())),a._paint(),a._inited=!0,a.active=!1},_debounce:function(s,a,n){var o,l;return function(){var t,e,i=this,r=arguments;return t=function(){o=null,n||(l=s.apply(i,r))},e=n&&!o,clearTimeout(o),o=setTimeout(t,a),e&&(l=s.apply(i,r)),l}},show:function(){this.picker.show()},hide:function(){this.picker.hide()},toggle:function(){this.picker.toggle()},color:function(t){return!0===t?this._color.clone():void 0===t?this._color.toString():void this.option("color",t)}},d.widget("a8c.iris",t),d('<style id="iris-css">.iris-picker{display:block;position:relative}.iris-picker,.iris-picker *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input+.iris-picker{margin-top:4px}.iris-error{background-color:#ffafaf}.iris-border{border-radius:3px;border:1px solid #aaa;width:200px;background-color:#fff}.iris-picker-inner{position:absolute;top:0;right:0;left:0;bottom:0}.iris-border .iris-picker-inner{top:10px;right:10px;left:10px;bottom:10px}.iris-picker .iris-square-inner{position:absolute;left:0;right:0;top:0;bottom:0}.iris-picker .iris-square,.iris-picker .iris-slider,.iris-picker .iris-square-inner,.iris-picker .iris-palette{border-radius:3px;box-shadow:inset 0 0 5px rgba(0,0,0,.4);height:100%;width:12.5%;float:left;margin-right:5%}.iris-picker .iris-square{width:76%;margin-right:10%;position:relative}.iris-picker .iris-square-inner{width:auto;margin:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-square-inner,.iris-ie-9 .iris-palette{box-shadow:none;border-radius:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-palette{outline:1px solid rgba(0,0,0,.1)}.iris-ie-lt9 .iris-square,.iris-ie-lt9 .iris-slider,.iris-ie-lt9 .iris-square-inner,.iris-ie-lt9 .iris-palette{outline:1px solid #aaa}.iris-ie-lt9 .iris-square .ui-slider-handle{outline:1px solid #aaa;background-color:#fff;-ms-filter:"alpha(Opacity=30)"}.iris-ie-lt9 .iris-square .iris-square-handle{background:0;border:3px solid #fff;-ms-filter:"alpha(Opacity=50)"}.iris-picker .iris-strip{margin-right:0;position:relative}.iris-picker .iris-strip .ui-slider-handle{position:absolute;background:0;margin:0;right:-3px;left:-3px;border:4px solid #aaa;border-width:4px 3px;width:auto;height:6px;border-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,.2);opacity:.9;z-index:5;cursor:ns-resize}.iris-strip .ui-slider-handle:before{content:" ";position:absolute;left:-2px;right:-2px;top:-3px;bottom:-3px;border:2px solid #fff;border-radius:3px}.iris-picker .iris-slider-offset{position:absolute;top:11px;left:0;right:0;bottom:-3px;width:auto;height:auto;background:transparent;border:0;border-radius:0}.iris-picker .iris-square-handle{background:transparent;border:5px solid #aaa;border-radius:50%;border-color:rgba(128,128,128,.5);box-shadow:none;width:12px;height:12px;position:absolute;left:-10px;top:-10px;cursor:move;opacity:1;z-index:10}.iris-picker .ui-state-focus .iris-square-handle{opacity:.8}.iris-picker .iris-square-handle:hover{border-color:#999}.iris-picker .iris-square-value:focus .iris-square-handle{box-shadow:0 0 2px rgba(0,0,0,.75);opacity:.8}.iris-picker .iris-square-handle:hover::after{border-color:#fff}.iris-picker .iris-square-handle::after{position:absolute;bottom:-4px;right:-4px;left:-4px;top:-4px;border:3px solid #f9f9f9;border-color:rgba(255,255,255,.8);border-radius:50%;content:" "}.iris-picker .iris-square-value{width:8px;height:8px;position:absolute}.iris-ie-lt9 .iris-square-value,.iris-mozilla .iris-square-value{width:1px;height:1px}.iris-palette-container{position:absolute;bottom:0;left:0;margin:0;padding:0}.iris-border .iris-palette-container{left:10px;bottom:10px}.iris-picker .iris-palette{margin:0;cursor:pointer}.iris-square-handle,.ui-slider-handle{border:0;outline:0}</style>').appendTo("head")}(jQuery),function(t,d){var n=function(t,e){return this instanceof n?this._init(t,e):new n(t,e)};n.fn=n.prototype={_color:0,_alpha:1,error:!1,_hsl:{h:0,s:0,l:0},_hsv:{h:0,s:0,v:0},_hSpace:"hsl",_init:function(t){var e="noop";switch(typeof t){case"object":return t.a!==d&&this.a(t.a),this[e=t.r!==d?"fromRgb":t.l!==d?"fromHsl":t.v!==d?"fromHsv":e](t);case"string":return this.fromCSS(t);case"number":return this.fromInt(parseInt(t,10))}return this},_error:function(){return this.error=!0,this},clone:function(){for(var t=new n(this.toInt()),e=["_alpha","_hSpace","_hsl","_hsv","error"],i=e.length-1;0<=i;i--)t[e[i]]=this[e[i]];return t},setHSpace:function(t){return this._hSpace="hsv"===t?t:"hsl",this},noop:function(){return this},fromCSS:function(t){var e,i=/^(rgb|hs(l|v))a?\(/;if(this.error=!1,(t=t.replace(/^\s+/,"").replace(/\s+$/,"").replace(/;$/,"")).match(i)&&t.match(/\)$/)){if((e=t.replace(/(\s|%)/g,"").replace(i,"").replace(/,?\);?$/,"").split(",")).length<3)return this._error();if(4===e.length&&(this.a(parseFloat(e.pop())),this.error))return this;for(var r=e.length-1;0<=r;r--)if(e[r]=parseInt(e[r],10),isNaN(e[r]))return this._error();return t.match(/^rgb/)?this.fromRgb({r:e[0],g:e[1],b:e[2]}):t.match(/^hsv/)?this.fromHsv({h:e[0],s:e[1],v:e[2]}):this.fromHsl({h:e[0],s:e[1],l:e[2]})}return this.fromHex(t)},fromRgb:function(t,e){return"object"!=typeof t||t.r===d||t.g===d||t.b===d?this._error():(this.error=!1,this.fromInt(parseInt((t.r<<16)+(t.g<<8)+t.b,10),e))},fromHex:function(t){return 3===(t=t.replace(/^#/,"").replace(/^0x/,"")).length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),this.error=!/^[0-9A-F]{6}$/i.test(t),this.fromInt(parseInt(t,16))},fromHsl:function(t){var e,i,r,s,a,n,o,l;return"object"!=typeof t||t.h===d||t.s===d||t.l===d?this._error():(this._hsl=t,this._hSpace="hsl",n=t.h/360,o=t.s/100,l=t.l/100,0==o?e=i=r=l:(a=2*l-(s=l<.5?l*(1+o):l+o-l*o),e=this.hue2rgb(a,s,n+1/3),i=this.hue2rgb(a,s,n),r=this.hue2rgb(a,s,n-1/3)),this.fromRgb({r:255*e,g:255*i,b:255*r},!0))},fromHsv:function(t){var e,i,r,s,a,n,o,l,h,u,c;if("object"!=typeof t||t.h===d||t.s===d||t.v===d)return this._error();switch(this._hsv=t,this._hSpace="hsv",e=t.h/360,i=t.s/100,h=(r=t.v/100)*(1-i),u=r*(1-(l=6*e-(o=Math.floor(6*e)))*i),c=r*(1-(1-l)*i),o%6){case 0:s=r,a=c,n=h;break;case 1:s=u,a=r,n=h;break;case 2:s=h,a=r,n=c;break;case 3:s=h,a=u,n=r;break;case 4:s=c,a=h,n=r;break;case 5:s=r,a=h,n=u}return this.fromRgb({r:255*s,g:255*a,b:255*n},!0)},fromInt:function(t,e){return this._color=parseInt(t,10),isNaN(this._color)&&(this._color=0),16777215<this._color?this._color=16777215:this._color<0&&(this._color=0),e===d&&(this._hsv.h=this._hsv.s=this._hsl.h=this._hsl.s=0),this},hue2rgb:function(t,e,i){return i<0&&(i+=1),1<i&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+(e-t)*(2/3-i)*6:t},toString:function(){var t=parseInt(this._color,10).toString(16);if(this.error)return"";if(t.length<6)for(var e=6-t.length-1;0<=e;e--)t="0"+t;return"#"+t},toCSS:function(t,e){switch(t=t||"hex",e=parseFloat(e||this._alpha),t){case"rgb":case"rgba":var i=this.toRgb();return e<1?"rgba( "+i.r+", "+i.g+", "+i.b+", "+e+" )":"rgb( "+i.r+", "+i.g+", "+i.b+" )";case"hsl":case"hsla":var r=this.toHsl();return e<1?"hsla( "+r.h+", "+r.s+"%, "+r.l+"%, "+e+" )":"hsl( "+r.h+", "+r.s+"%, "+r.l+"% )";default:return this.toString()}},toRgb:function(){return{r:255&this._color>>16,g:255&this._color>>8,b:255&this._color}},toHsl:function(){var t,e,i=this.toRgb(),r=i.r/255,s=i.g/255,a=i.b/255,n=Math.max(r,s,a),o=Math.min(r,s,a),l=(n+o)/2;if(n===o)t=e=0;else{var h=n-o;switch(e=.5<l?h/(2-n-o):h/(n+o),n){case r:t=(s-a)/h+(s<a?6:0);break;case s:t=(a-r)/h+2;break;case a:t=(r-s)/h+4}t/=6}return 0===(t=Math.round(360*t))&&this._hsl.h!==t&&(t=this._hsl.h),0===(e=Math.round(100*e))&&this._hsl.s&&(e=this._hsl.s),{h:t,s:e,l:Math.round(100*l)}},toHsv:function(){var t,e,i=this.toRgb(),r=i.r/255,s=i.g/255,a=i.b/255,n=Math.max(r,s,a),o=Math.min(r,s,a),l=n,h=n-o;if(e=0===n?0:h/n,n===o)t=e=0;else{switch(n){case r:t=(s-a)/h+(s<a?6:0);break;case s:t=(a-r)/h+2;break;case a:t=(r-s)/h+4}t/=6}return 0===(t=Math.round(360*t))&&this._hsv.h!==t&&(t=this._hsv.h),0===(e=Math.round(100*e))&&this._hsv.s&&(e=this._hsv.s),{h:t,s:e,v:Math.round(100*l)}},toInt:function(){return this._color},toIEOctoHex:function(){var t=this.toString(),e=parseInt(255*this._alpha,10).toString(16);return 1===e.length&&(e="0"+e),"#"+e+t.replace(/^#/,"")},toLuminosity:function(){var t=this.toRgb();return.2126*Math.pow(t.r/255,2.2)+.7152*Math.pow(t.g/255,2.2)+.0722*Math.pow(t.b/255,2.2)},getDistanceLuminosityFrom:function(t){if(!(t instanceof n))throw"getDistanceLuminosityFrom requires a Color object";var e=this.toLuminosity(),i=t.toLuminosity();return i<e?(e+.05)/(i+.05):(i+.05)/(e+.05)},getMaxContrastColor:function(){var t=this.toLuminosity();return new n(.5<=t?"000000":"ffffff")},getReadableContrastingColor:function(t,e){if(!t instanceof n)return this;var i=e===d?5:e,r=t.getDistanceLuminosityFrom(this),s=t.getMaxContrastColor();if(s.getDistanceLuminosityFrom(t)<=i)return s;if(i<=r)return this;for(var a=0===s.toInt()?-1:1;r<i&&(this.l(a,!0),r=this.getDistanceLuminosityFrom(t),0!==this._color&&16777215!==this._color););return this},a:function(t){if(t===d)return this._alpha;var e=parseFloat(t);return isNaN(e)?this._error():(this._alpha=e,this)},darken:function(t){return t=t||5,this.l(-t,!0)},lighten:function(t){return t=t||5,this.l(t,!0)},saturate:function(t){return t=t||15,this.s(t,!0)},desaturate:function(t){return t=t||15,this.s(-t,!0)},toGrayscale:function(){return this.setHSpace("hsl").s(0)},getComplement:function(){return this.h(180,!0)},getSplitComplement:function(t){var e=180+30*(t=t||1);return this.h(e,!0)},getAnalog:function(t){var e=30*(t=t||1);return this.h(e,!0)},getTetrad:function(t){var e=60*(t=t||1);return this.h(e,!0)},getTriad:function(t){var e=120*(t=t||1);return this.h(e,!0)},_partial:function(r){var s=e[r];return function(t,e){var i=this._spaceFunc("to",s.space);return t===d?i[r]:(!0===e&&(t=i[r]+t),s.mod&&(t%=s.mod),s.range&&(t=t<s.range[0]?s.range[0]:t>s.range[1]?s.range[1]:t),i[r]=t,this._spaceFunc("from",s.space,i))}},_spaceFunc:function(t,e,i){var r=e||this._hSpace;return this[t+r.charAt(0).toUpperCase()+r.substr(1)](i)}};var e={h:{mod:360},s:{range:[0,100]},l:{space:"hsl",range:[0,100]},v:{space:"hsv",range:[0,100]},r:{space:"rgb",range:[0,255]},g:{space:"rgb",range:[0,255]},b:{space:"rgb",range:[0,255]}};for(var i in e)e.hasOwnProperty(i)&&(n.fn[i]=n.fn._partial(i));"object"==typeof exports?module.exports=n:t.Color=n}(this),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(u){var i;u.extend(u.fn,{validate:function(t){if(this.length){var r=u.data(this[0],"validator");return r||(this.attr("novalidate","novalidate"),r=new u.validator(t,this[0]),u.data(this[0],"validator",r),r.settings.onsubmit&&(this.on("click.validate",":submit",function(t){r.submitButton=t.currentTarget,u(this).hasClass("cancel")&&(r.cancelSubmit=!0),void 0!==u(this).attr("formnovalidate")&&(r.cancelSubmit=!0)}),this.on("submit.validate",function(i){function t(){var t,e;return r.submitButton&&(r.settings.submitHandler||r.formSubmitted)&&(t=u("<input type='hidden'/>").attr("name",r.submitButton.name).val(u(r.submitButton).val()).appendTo(r.currentForm)),!(r.settings.submitHandler&&!r.settings.debug)||(e=r.settings.submitHandler.call(r,r.currentForm,i),t&&t.remove(),void 0!==e&&e)}return r.settings.debug&&i.preventDefault(),r.cancelSubmit?(r.cancelSubmit=!1,t()):r.form()?r.pendingRequest?!(r.formSubmitted=!0):t():(r.focusInvalid(),!1)})),r)}t&&t.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var t,e,i;return u(this[0]).is("form")?t=this.validate().form():(i=[],t=!0,e=u(this[0].form).validate(),this.each(function(){(t=e.element(this)&&t)||(i=i.concat(e.errorList))}),e.errorList=i),t},rules:function(t,e){var i,r,s,a,n,o,l=this[0],h=void 0!==this.attr("contenteditable")&&"false"!==this.attr("contenteditable");if(null!=l&&(!l.form&&h&&(l.form=this.closest("form")[0],l.name=this.attr("name")),null!=l.form)){if(t)switch(r=(i=u.data(l.form,"validator").settings).rules,s=u.validator.staticRules(l),t){case"add":u.extend(s,u.validator.normalizeRule(e)),delete s.messages,r[l.name]=s,e.messages&&(i.messages[l.name]=u.extend(i.messages[l.name],e.messages));break;case"remove":return e?(o={},u.each(e.split(/\s/),function(t,e){o[e]=s[e],delete s[e]}),o):(delete r[l.name],s)}return(a=u.validator.normalizeRules(u.extend({},u.validator.classRules(l),u.validator.attributeRules(l),u.validator.dataRules(l),u.validator.staticRules(l)),l)).required&&(n=a.required,delete a.required,a=u.extend({required:n},a)),a.remote&&(n=a.remote,delete a.remote,a=u.extend(a,{remote:n})),a}}}),u.extend(u.expr.pseudos||u.expr[":"],{blank:function(t){return!u.trim(""+u(t).val())},filled:function(t){var e=u(t).val();return null!==e&&!!u.trim(""+e)},unchecked:function(t){return!u(t).prop("checked")}}),u.validator=function(t,e){this.settings=u.extend(!0,{},u.validator.defaults,t),this.currentForm=e,this.init()},u.validator.format=function(i,t){return 1===arguments.length?function(){var t=u.makeArray(arguments);return t.unshift(i),u.validator.format.apply(this,t)}:(void 0===t||(2<arguments.length&&t.constructor!==Array&&(t=u.makeArray(arguments).slice(1)),t.constructor!==Array&&(t=[t]),u.each(t,function(t,e){i=i.replace(new RegExp("\\{"+t+"\\}","g"),function(){return e})})),i)},u.extend(u.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:u([]),errorLabelContainer:u([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(t,e){9===e.which&&""===this.elementValue(t)||-1!==u.inArray(e.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(t.name in this.submitted||t.name in this.invalid)&&this.element(t)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(t,e,i){"radio"===t.type?this.findByName(t.name).addClass(e).removeClass(i):u(t).addClass(e).removeClass(i)},unhighlight:function(t,e,i){"radio"===t.type?this.findByName(t.name).removeClass(e).addClass(i):u(t).removeClass(e).addClass(i)}},setDefaults:function(t){u.extend(u.validator.defaults,t)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:u.validator.format("Please enter no more than {0} characters."),minlength:u.validator.format("Please enter at least {0} characters."),rangelength:u.validator.format("Please enter a value between {0} and {1} characters long."),range:u.validator.format("Please enter a value between {0} and {1}."),max:u.validator.format("Please enter a value less than or equal to {0}."),min:u.validator.format("Please enter a value greater than or equal to {0}."),step:u.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=u(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||u(this.currentForm),this.containers=u(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var i,a=this.currentForm,r=this.groups={};function t(t){var e=void 0!==u(this).attr("contenteditable")&&"false"!==u(this).attr("contenteditable");if(!this.form&&e&&(this.form=u(this).closest("form")[0],this.name=u(this).attr("name")),a===this.form){var i=u.data(this.form,"validator"),r="on"+t.type.replace(/^validate/,""),s=i.settings;s[r]&&!u(this).is(s.ignore)&&s[r].call(i,this,t)}}u.each(this.settings.groups,function(i,t){"string"==typeof t&&(t=t.split(/\s/)),u.each(t,function(t,e){r[e]=i})}),i=this.settings.rules,u.each(i,function(t,e){i[t]=u.validator.normalizeRule(e)}),u(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",t).on("click.validate","select, option, [type='radio'], [type='checkbox']",t),this.settings.invalidHandler&&u(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),u.extend(this.submitted,this.errorMap),this.invalid=u.extend({},this.errorMap),this.valid()||u(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(t){var e,i,r=this.clean(t),s=this.validationTargetFor(r),a=this,n=!0;return void 0===s?delete this.invalid[r.name]:(this.prepareElement(s),this.currentElements=u(s),(i=this.groups[s.name])&&u.each(this.groups,function(t,e){e===i&&t!==s.name&&(r=a.validationTargetFor(a.clean(a.findByName(t))))&&r.name in a.invalid&&(a.currentElements.push(r),n=a.check(r)&&n)}),e=!1!==this.check(s),n=n&&e,this.invalid[s.name]=!e,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),u(t).attr("aria-invalid",!e)),n},showErrors:function(e){if(e){var i=this;u.extend(this.errorMap,e),this.errorList=u.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=u.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){u.fn.resetForm&&u(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var t=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(t)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{u(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").trigger("focus").trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===u.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var i=this,r={};return u(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var t=this.name||u(this).attr("name"),e=void 0!==u(this).attr("contenteditable")&&"false"!==u(this).attr("contenteditable");return!t&&i.settings.debug&&window.console&&console.error("%o has no name assigned",this),e&&(this.form=u(this).closest("form")[0],this.name=t),this.form===i.currentForm&&(!(t in r||!i.objectLength(u(this).rules()))&&(r[t]=!0))})},clean:function(t){return u(t)[0]},errors:function(){var t=this.settings.errorClass.split(" ").join(".");return u(this.settings.errorElement+"."+t,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=u([]),this.toHide=u([])},reset:function(){this.resetInternals(),this.currentElements=u([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(t){var e,i,r=u(t),s=t.type,a=void 0!==r.attr("contenteditable")&&"false"!==r.attr("contenteditable");return"radio"===s||"checkbox"===s?this.findByName(t.name).filter(":checked").val():"number"===s&&void 0!==t.validity?t.validity.badInput?"NaN":r.val():(e=a?r.text():r.val(),"file"===s?"C:\\fakepath\\"===e.substr(0,12)?e.substr(12):0<=(i=e.lastIndexOf("/"))?e.substr(i+1):0<=(i=e.lastIndexOf("\\"))?e.substr(i+1):e:"string"==typeof e?e.replace(/\r/g,""):e)},check:function(e){e=this.validationTargetFor(this.clean(e));var t,i,r,s,a=u(e).rules(),n=u.map(a,function(t,e){return e}).length,o=!1,l=this.elementValue(e);for(i in"function"==typeof a.normalizer?s=a.normalizer:"function"==typeof this.settings.normalizer&&(s=this.settings.normalizer),s&&(l=s.call(e,l),delete a.normalizer),a){r={method:i,parameters:a[i]};try{if("dependency-mismatch"===(t=u.validator.methods[i].call(this,l,e,r.parameters))&&1===n){o=!0;continue}if(o=!1,"pending"===t)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!t)return this.formatAndAdd(e,r),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+r.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+r.method+"' method."),t}}if(!o)return this.objectLength(a)&&this.successList.push(e),!0},customDataMessage:function(t,e){return u(t).data("msg"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase())||u(t).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(t,e){"string"==typeof e&&(e={method:e});var i=this.findDefined(this.customMessage(t.name,e.method),this.customDataMessage(t,e.method),!this.settings.ignoreTitle&&t.title||void 0,u.validator.messages[e.method],"<strong>Warning: No message defined for "+t.name+"</strong>"),r=/\$?\{(\d+)\}/g;return"function"==typeof i?i=i.call(this,e.parameters,t):r.test(i)&&(i=u.validator.format(i.replace(r,"{$1}"),e.parameters)),i},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return u(this.errorList).map(function(){return this.element})},showLabel:function(t,e){var i,r,s,a,n=this.errorsFor(t),o=this.idOrName(t),l=u(t).attr("aria-describedby");n.length?(n.removeClass(this.settings.validClass).addClass(this.settings.errorClass),n.html(e)):(i=n=u("<"+this.settings.errorElement+">").attr("id",o+"-error").addClass(this.settings.errorClass).html(e||""),this.settings.wrapper&&(i=n.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(i):this.settings.errorPlacement?this.settings.errorPlacement.call(this,i,u(t)):i.insertAfter(t),n.is("label")?n.attr("for",o):0===n.parents("label[for='"+this.escapeCssMeta(o)+"']").length&&(s=n.attr("id"),l?l.match(new RegExp("\\b"+this.escapeCssMeta(s)+"\\b"))||(l+=" "+s):l=s,u(t).attr("aria-describedby",l),(r=this.groups[t.name])&&(a=this,u.each(a.groups,function(t,e){e===r&&u("[name='"+a.escapeCssMeta(t)+"']",a.currentForm).attr("aria-describedby",n.attr("id"))})))),!e&&this.settings.success&&(n.text(""),"string"==typeof this.settings.success?n.addClass(this.settings.success):this.settings.success(n,t)),this.toShow=this.toShow.add(n)},errorsFor:function(t){var e=this.escapeCssMeta(this.idOrName(t)),i=u(t).attr("aria-describedby"),r="label[for='"+e+"'], label[for='"+e+"'] *";return i&&(r=r+", #"+this.escapeCssMeta(i).replace(/\s+/g,", #")),this.errors().filter(r)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(t){return this.checkable(t)&&(t=this.findByName(t.name)),u(t).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(t){return u(this.currentForm).find("[name='"+this.escapeCssMeta(t)+"']")},getLength:function(t,e){switch(e.nodeName.toLowerCase()){case"select":return u("option:selected",e).length;case"input":if(this.checkable(e))return this.findByName(e.name).filter(":checked").length}return t.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(t,e){return!!u(t,e.form).length},function:function(t,e){return t(e)}},optional:function(t){var e=this.elementValue(t);return!u.validator.methods.required.call(this,e,t)&&"dependency-mismatch"},startRequest:function(t){this.pending[t.name]||(this.pendingRequest++,u(t).addClass(this.settings.pendingClass),this.pending[t.name]=!0)},stopRequest:function(t,e){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[t.name],u(t).removeClass(this.settings.pendingClass),e&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(u(this.currentForm).submit(),this.submitButton&&u("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!e&&0===this.pendingRequest&&this.formSubmitted&&(u(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(t,e){return e="string"==typeof e&&e||"remote",u.data(t,"previousValue")||u.data(t,"previousValue",{old:null,valid:!0,message:this.defaultMessage(t,{method:e})})},destroy:function(){this.resetForm(),u(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(t,e){t.constructor===String?this.classRuleSettings[t]=e:u.extend(this.classRuleSettings,t)},classRules:function(t){var e={},i=u(t).attr("class");return i&&u.each(i.split(" "),function(){this in u.validator.classRuleSettings&&u.extend(e,u.validator.classRuleSettings[this])}),e},normalizeAttributeRule:function(t,e,i,r){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(r=Number(r),isNaN(r)&&(r=void 0)),r||0===r?t[i]=r:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(t){var e,i,r={},s=u(t),a=t.getAttribute("type");for(e in u.validator.methods)i="required"===e?(""===(i=t.getAttribute(e))&&(i=!0),!!i):s.attr(e),this.normalizeAttributeRule(r,a,e,i);return r.maxlength&&/-1|2147483647|524288/.test(r.maxlength)&&delete r.maxlength,r},dataRules:function(t){var e,i,r={},s=u(t),a=t.getAttribute("type");for(e in u.validator.methods)""===(i=s.data("rule"+e.charAt(0).toUpperCase()+e.substring(1).toLowerCase()))&&(i=!0),this.normalizeAttributeRule(r,a,e,i);return r},staticRules:function(t){var e={},i=u.data(t.form,"validator");return i.settings.rules&&(e=u.validator.normalizeRule(i.settings.rules[t.name])||{}),e},normalizeRules:function(r,s){return u.each(r,function(t,e){if(!1!==e){if(e.param||e.depends){var i=!0;switch(typeof e.depends){case"string":i=!!u(e.depends,s.form).length;break;case"function":i=e.depends.call(s,s)}i?r[t]=void 0===e.param||e.param:(u.data(s.form,"validator").resetElements(u(s)),delete r[t])}}else delete r[t]}),u.each(r,function(t,e){r[t]=u.isFunction(e)&&"normalizer"!==t?e(s):e}),u.each(["minlength","maxlength"],function(){r[this]&&(r[this]=Number(r[this]))}),u.each(["rangelength","range"],function(){var t;r[this]&&(u.isArray(r[this])?r[this]=[Number(r[this][0]),Number(r[this][1])]:"string"==typeof r[this]&&(t=r[this].replace(/[\[\]]/g,"").split(/[\s,]+/),r[this]=[Number(t[0]),Number(t[1])]))}),u.validator.autoCreateRanges&&(null!=r.min&&null!=r.max&&(r.range=[r.min,r.max],delete r.min,delete r.max),null!=r.minlength&&null!=r.maxlength&&(r.rangelength=[r.minlength,r.maxlength],delete r.minlength,delete r.maxlength)),r},normalizeRule:function(t){if("string"==typeof t){var e={};u.each(t.split(/\s/),function(){e[this]=!0}),t=e}return t},addMethod:function(t,e,i){u.validator.methods[t]=e,u.validator.messages[t]=void 0!==i?i:u.validator.messages[t],e.length<3&&u.validator.addClassRules(t,u.validator.normalizeRule(t))},methods:{required:function(t,e,i){if(!this.depend(i,e))return"dependency-mismatch";if("select"!==e.nodeName.toLowerCase())return this.checkable(e)?0<this.getLength(t,e):null!=t&&0<t.length;var r=u(e).val();return r&&0<r.length},email:function(t,e){return this.optional(e)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(t)},date:(i=!1,function(t,e){return i||(i=!0,this.settings.debug&&window.console&&console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")),this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())}),dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(t,e,i){var r=u.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||i<=r},maxlength:function(t,e,i){var r=u.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||r<=i},rangelength:function(t,e,i){var r=u.isArray(t)?t.length:this.getLength(t,e);return this.optional(e)||r>=i[0]&&r<=i[1]},min:function(t,e,i){return this.optional(e)||i<=t},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(t,e,i){function r(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0}function s(t){return Math.round(t*Math.pow(10,a))}var a,n=u(e).attr("type"),o="Step attribute on input type "+n+" is not supported.",l=new RegExp("\\b"+n+"\\b"),h=!0;if(n&&!l.test(["text","number","range"].join()))throw new Error(o);return a=r(i),(r(t)>a||s(t)%s(i)!=0)&&(h=!1),this.optional(e)||h},equalTo:function(t,e,i){var r=u(i);return this.settings.onfocusout&&r.not(".validate-equalTo-blur").length&&r.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){u(e).valid()}),t===r.val()},remote:function(a,n,t,o){if(this.optional(n))return"dependency-mismatch";o="string"==typeof o&&o||"remote";var l,e,i,h=this.previousValue(n,o);return this.settings.messages[n.name]||(this.settings.messages[n.name]={}),h.originalMessage=h.originalMessage||this.settings.messages[n.name][o],this.settings.messages[n.name][o]=h.message,t="string"==typeof t&&{url:t}||t,i=u.param(u.extend({data:a},t.data)),h.old===i?h.valid:(h.old=i,(l=this).startRequest(n),(e={})[n.name]=a,u.ajax(u.extend(!0,{mode:"abort",port:"validate"+n.name,dataType:"json",data:e,context:l.currentForm,success:function(t){var e,i,r,s=!0===t||"true"===t;l.settings.messages[n.name][o]=h.originalMessage,s?(r=l.formSubmitted,l.resetInternals(),l.toHide=l.errorsFor(n),l.formSubmitted=r,l.successList.push(n),l.invalid[n.name]=!1,l.showErrors()):(e={},i=t||l.defaultMessage(n,{method:o,parameters:a}),e[n.name]=h.message=i,l.invalid[n.name]=!0,l.showErrors(e)),h.valid=s,l.stopRequest(n,s)}},t)),"pending")}}});var r,s={};return u.ajaxPrefilter?u.ajaxPrefilter(function(t,e,i){var r=t.port;"abort"===t.mode&&(s[r]&&s[r].abort(),s[r]=i)}):(r=u.ajax,u.ajax=function(t){var e=("mode"in t?t:u.ajaxSettings).mode,i=("port"in t?t:u.ajaxSettings).port;return"abort"===e?(s[i]&&s[i].abort(),s[i]=r.apply(this,arguments),s[i]):r.apply(this,arguments)}),u}),function(l){"use strict";function o(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function a(t){var e=l("#"+t),i=e.attr("min"),r=e.attr("max");return void 0===r&&(r=100),o(i,r)}function n(t,e){var i=[];t.find('input[name="'+e+'"]').each(function(){l(this).prop("checked",!1).change(),i.push(l(this))});var r=Math.floor(Math.random()*i.length);t.find(i[r]).prop("checked",!0).change()}l(window).on("load",function(){!function(){function t(t){var e,i,r=decodeURIComponent(window.location.search.substring(1)).split("&");for(i=0;i<r.length;i++)if((e=r[i].split("="))[0]===t)return void 0===e[1]||e[1]}var e;e="fr"==ft.lang_code?t("formulaire"):t("form");void 0!==e&&setTimeout(function(){!function(t){var e=parseInt(l(t).attr("data-speed")),i=parseInt(l(t).attr("data-offset")),r=l(t).attr("data-tag"),s=l(t).closest(r);l("html, body").animate({scrollTop:s.offset().top-i},e,"linear",function(){})}("#"+e)},500);l(".ft-validate").on("submit",function(){if(!l(this).valid())return!1}),l(".ft-validate").each(function(){l(this).validate({errorElement:"span",errorLabelContainer:".ft-check",errorClass:"ft-invalid",validClass:"ft-success",highlight:function(t,e,i){l(t).closest(".ft-field").addClass(e).removeClass(i)},unhighlight:function(t,e,i){l(t).closest(".ft-field").removeClass(e).addClass(i)},errorPlacement:function(t,e){t.appendTo(e.closest(".ft-field"))}})}),l.validator.addMethod("ft-tel",function(t,e){return this.optional(e)||/^((\\+[1-9]{1,4}[ \\-]*)|(\\([0-9]{2,3}\\)[ \\-]*)|([0-9]{2,4})[ \\-]*)*?[0-9]{3,4}?[ \\-]*[0-9]{3,4}?$/.test(t)}),l.validator.addMethod("ft-number",function(t,e){return this.optional(e)||/^(-{1})?[0-9]+(\.[0-9]{1,})?$/.test(t)}),l.validator.addMethod("ft-email",function(t,e){return this.optional(e)||/^[a-zA-Z0-9._-]+@[a-z0-9.-]{2,}[.][a-z]{2,5}$/.test(t)}),l.validator.addMethod("ft-name",function(t,e){return this.optional(e)||/^[a-zA-Z' -]{3,}$/.test(t)}),l.validator.addMethod("ft-postal",function(t,e){return this.optional(e)||/^[AaBbCcEeGgHhJjKkLlMmNnPpRrSsTtVvXxYy]{1}\d{1}[A-Za-z]{1} *\d{1}[A-Za-z]{1}\d{1}$/.test(t)}),l.validator.addMethod("ft-url",function(t,e){return this.optional(e)||/^(https?:\/\/)?([\da-z\.-]+)\.([a-z\.]{2,6})([\/\w \.-]*)*\/?$/.test(t)}),l.validator.addMethod("ft-time",function(t,e){return this.optional(e)||/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/.test(t)}),l.validator.addMethod("ft-color",function(t,e){return this.optional(e)||/^([#]?[A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t)}),l(".ft-input--date").length&&(l.datepicker.regional[ft.lang_code],l(".ft-input--date").each(function(){var t=l(this),e=t.attr("data-min"),i=t.attr("data-max"),r=t.attr("data-format");l(".ft-input--date").datepicker({dateFormat:r,onSelect:function(){l(this).closest("form").validate().element(l(this))},minDate:e,maxDate:i,changeMonth:!1,changeYear:!1})}));l(".ft-range").length&&l(".ft-range").each(function(){var i=l(this),t=i.attr("data-min"),e=i.attr("data-max"),r=i.attr("data-step"),s=i.attr("data-value");i.slider({step:parseInt(r),min:parseInt(t),max:parseInt(e),value:parseInt(s),slide:function(t,e){l("#"+i.attr("data-input")).val(e.value)}})});l(".ft-input--file").length&&l(".ft-input--file").on("change",function(){l(this).closest("form").validate().element(l(this))});l(".ft-input--address").length&&l(".ft-input--address").each(function(){var t=document.getElementById(l(this).attr("id")),e=new google.maps.places.Autocomplete(t,{});e.addListener("place_changed",function(){e.getPlace()})});l(".ft-input--color").length&&(l(".ft-input--color").iris({change:function(t,e){l(this).parent().find(".ft-color").css("background",e.color.toString())}}),l(".ft-input--color").each(function(){var t=l(this).val();l(this).iris("color",t)}),l(".ft-input--color, .iris-picker, .iris-picker-inner").on("click",function(t){t.stopPropagation()}),l(document).on("click",function(t){l(".ft-input--color").iris("hide")}),l(".ft-input--color").on("click",function(t){l(".ft-input--color").iris("hide"),l(this).iris("show")}));l(".ft-input--checkbox").length&&(l(".ft-input--checkbox").each(function(){var t=l(this),e=t.attr("data-max"),i=t.find("input:checked").length;t.attr("data-chosen",i),e<=i&&s(t)}),l(".ft-input--checkbox input").on("change",function(){var t=l(this),e=t.closest(".ft-input--checkbox"),i=e.attr("data-max"),r=e.attr("data-chosen");t.is(":checked")?r<i&&(e.attr("data-chosen",parseInt(r)+1),parseInt(r)+1==i&&s(e)):(e.attr("data-chosen",parseInt(r)-1),parseInt(r)-1<i&&function(t){t.find("input").each(function(){l(this).prop("disabled",!1)})}(e))}));l(".ft-repeater").length&&l(".ft-repeater").on("click",function(){var e=l(this).closest(".ft-field--repeater"),i=e.find("input").val(),t=(e.attr("id"),e.closest(".ft-row").find(".ft-field").not(".ft-field--repeater").not(".ft-clone").clone());i++,e.find("input").val(i),t.each(function(){var t=l(this).attr("data-id");l(this).attr("data-name");l(this).addClass("ft-clone").find("input").attr("id",t+"-clone-"+i).end().find("input").attr("name",t+"-clone-"+i).end().find("select").attr("id",t+"-clone-"+i).end().find("select").attr("name",t+"-clone-"+i),l(this).insertBefore(e)})});function s(t){t.find("input").each(function(){l(this).is(":checked")||l(this).prop("disabled",!0)})}l(".ft-autofill").length&&l(".ft-autofill a").on("click",function(){var r=l(this).closest("form"),i={};return r.find(".ft-field").each(function(){if(!l(this).is(".ft-field--submit")){var t=l(this).attr("data-type"),e=l(this).find(":input:not(button)").attr("name");i[e]=t}}),l.each(i,function(t,e){switch(e){case"name":l("#"+t).val(function(){var t=["Sbas","Dav","Jean","Carl","Jona","m","Mar","Sam","Ian","Mik","Alex","Sa","Andr","Ga","Tur","Ds","Spoo","Beau","Lab","Lv","Ja","Orfa","Mich","Mor","Parent","Rob","Bois","Lan","Lemi","Rous"],e=["tien","id","carl","than","lie","ie","uel","andre","anne","gn","cotte","lets","ner","lieu","orde","esque","ques","chaud","eau","erge","vert","dry","re","seau"];return t[Math.floor(Math.random()*t.length)]+e[Math.floor(Math.random()*e.length)]}());break;case"email":l("#"+t).val(function(){var t=["sebas","cav","jean","max","carl","jona","em","chris","mar","an","sam","ian","mik","alex","sa","andre","ga","tur","des","rey","spoo","beau","lab","lev","ja","orfa","mich","mor","parent","rob","bois","lan","lemi","rous"],e=["tien","id","carl","ime","than","lie","tian","ie","uel","andre","anne","gne","cotte","lets","ner","lieu","orde","esque","ques","chaud","eau","erge","vert","dry","re","seau"],i=t[Math.floor(Math.random()*t.length)]+e[Math.floor(Math.random()*e.length)],r=["gmail.com","msn.com","outlook.com","zoho.com","yahoo.com","yandex.com","inbox.com","mail.com"],s=Math.floor(Math.random()*r.length);return i+"@"+r[s]}());break;case"tel":l("#"+t).val(function(){var t=["367","418","438","450","514","579","581","819","873"],e=Math.floor(Math.random()*t.length);return t[e]+"-"+o(100,999)+"-"+o(1e3,9999)}());break;case"password":l("#"+t).val("pwd");break;case"postal":l("#"+t).val(function(){var t=["A","B","C","E","G","H","J","K","L","M","N","P","R","S","T","V","X","Y"];return t[o(0,17)]+o(0,9)+t[o(0,17)]+" "+o(0,9)+t[o(0,17)]+o(0,9)}());break;case"date":!function(t){var e=l("#"+t),i=(e.attr("data-format"),e.attr("data-min"),e.attr("data-max"),o(1,28)),r=o(1,12),s=o(1900,2100),a=("0"+r).slice(-2)+"/"+("0"+i).slice(-2)+"/"+s;e.datepicker("setDate",a).datepicker("refresh")}(t);break;case"time":l("#"+t).val(function(){var t=o(0,23),e=o(0,59);t<10&&(t="0"+t);e<10&&(e="0"+e);return t+":"+e}());break;case"color":l("#"+t).iris("color",function(){for(var t="#",e=0;e<6;e++)t+="0123456789ABCDEF"[Math.floor(16*Math.random())];return t}());break;case"number":l("#"+t).val(a(t));break;case"range":var i=a(t);l("#"+t).val(i).parent().find(".ft-range").slider("value",i);break;case"text":case"address":case"search":l("#"+t).val(function(){var t=["Lorem ipsum dolor sit amet","Consectetur adipiscing elit","Aliquam sit amet libero dolor","Nulla urna quam efficitur vel","Consequat eget tempor in quam","Cras convallis diam a congue efficitur","Curabitur elit magna, porttitor a velit pharetra","Dignissim fringilla tellus","In lobortis elit ac vulputate pellentesque","Vivamus sollicitudin volutpat arcu"],e=Math.floor(Math.random()*t.length);return t[e]}());break;case"url":l("#"+t).val(function(){var t=["fire","water","flame","metal","punk","pop","snow","skate","smooth","soft","palm","hard","electric","liquid","death","blue","red","pink","white","black","super","extra"],e=["banana","apple","bone","chair","head","tree","deck","plant","board","sky","star","cloud","heart","porn","rainbow","chocolate","helmet","phone","beach"],i=t[Math.floor(Math.random()*t.length)]+e[Math.floor(Math.random()*e.length)],r=[".com",".net",".org",".info",".biz",".us",".ca",".eu",".co",".co",".mobi",".asia",".xxx"],s=Math.floor(Math.random()*r.length);return"http://"+i+r[s]}());break;case"select":!function(t){var e=l("#"+t.replace("[]","")),i=[];e.is("select")&&e.find("option").each(function(){""!==l(this).val()&&i.push(l(this).val())});var r=Math.floor(Math.random()*i.length);e.val(i[r]).change()}(t);break;case"radio":case"checkbox":n(r,t);break;case"textarea":!function(t){for(var e=l("#"+t),i=["Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam sit amet libero dolor. Nulla urna quam, efficitur vel consequat eget, tempor in quam. Cras convallis diam a congue efficitur. Curabitur elit magna, porttitor a velit pharetra, dignissim fringilla tellus. In lobortis elit ac vulputate pellentesque. Vivamus sollicitudin volutpat arcu, at luctus ligula pellentesque at. Aliquam nulla sapien, dapibus vel iaculis ornare, congue non ipsum. Nullam dapibus tortor vitae metus egestas interdum. In egestas ante sem, a faucibus sapien lacinia non. Mauris suscipit lobortis nisl, id posuere dolor vestibulum ut. Morbi ut mollis tortor. Interdum et malesuada fames ac ante ipsum primis in faucibus. Cras semper consequat sem nec cursus.","Sed volutpat lorem ac ligula dapibus ullamcorper. Suspendisse hendrerit elit at neque hendrerit ullamcorper. Duis diam arcu, hendrerit et lacus vel, vulputate lobortis eros. Nulla a elementum nisi. Nullam non imperdiet nunc. Morbi rutrum, metus a iaculis ultrices, odio ipsum pharetra justo, nec tincidunt mauris lorem a diam. Nam vitae rhoncus nibh. Aliquam maximus elit ut laoreet tempus. Morbi maximus tristique aliquet. Proin orci enim, lacinia at vestibulum eget, fringilla vel ante. Integer et condimentum sapien.","Nullam maximus condimentum nulla ut rutrum. Duis dignissim velit fringilla, euismod metus quis, eleifend lectus. Vestibulum faucibus, magna imperdiet maximus pharetra, tortor turpis ullamcorper magna, sed vulputate lorem odio a nunc. Duis lobortis nec quam eget iaculis. Vivamus vel enim ut nisi tincidunt iaculis eu sed tellus. Ut congue iaculis gravida. Curabitur posuere, sapien non suscipit congue, turpis felis sagittis magna, ac consectetur ligula est sit amet sem. Vestibulum quis pretium nulla, eget posuere ex. Mauris tincidunt lectus nec semper consectetur.","Pellentesque maximus dapibus iaculis. Aliquam tempus turpis turpis, id pulvinar nulla ultrices a. Proin ut porttitor risus, quis fermentum sem. Sed eget enim blandit, varius eros sed, tincidunt eros. Maecenas in condimentum augue. Suspendisse mauris arcu, rutrum vel scelerisque sed, facilisis quis sem. Duis at nibh gravida, bibendum ex sed, congue libero. Donec luctus tellus justo. Curabitur in sollicitudin quam.","Donec elementum rutrum dolor, at maximus mi finibus at. Duis cursus tincidunt sapien id vulputate. Maecenas quam quam, varius ut diam et, porta vehicula sem. Aliquam lorem turpis, dignissim eget venenatis sed, hendrerit id erat. Nulla purus ipsum, pellentesque eu condimentum a, volutpat in lacus. Pellentesque ullamcorper non nibh vel mollis. Mauris sed pretium justo. Quisque volutpat ullamcorper blandit. Etiam gravida euismod velit vitae ullamcorper. Maecenas velit leo, egestas vel eros eu, dictum dignissim justo."],r=o(1,5),s="",a=1;a<=r;a++){var n=Math.floor(Math.random()*i.length);s+=i[n],a!==r&&(s+="\n\n")}e.val(s)}(t)}}),r.valid(),!1}),function(){function n(t){if(void 0!==t){t=t.split(",");for(var e=0;e<t.length;e++)l("#"+l.trim(t[e])).is("fieldset")?l("#"+l.trim(t[e])).hide().find(":input").prop("disabled",!0):l("#"+l.trim(t[e])).is("div")?l("#"+l.trim(t[e])).closest(".ft-field").hide().find(":input").prop("disabled",!0):l("#"+l.trim(t[e])).prop("disabled",!0).closest(".ft-field").hide()}}function o(t){if(void 0!==t){t=t.split(",");for(var e=0;e<t.length;e++)l("#"+l.trim(t[e])).is("fieldset")?l("#"+l.trim(t[e])).show().find(":input").prop("disabled",!1):l("#"+l.trim(t[e])).is("div")?l("#"+l.trim(t[e])).closest(".ft-field").show().find(":input").prop("disabled",!1):l("#"+l.trim(t[e])).prop("disabled",!1).closest(".ft-field").show()}}l("[data-ft-target]")&&(l("[data-ft-target]").each(function(){var t=l(this),e=t.attr("data-ft-target");t.is("option")?t.prop("selected")||n(e):t.prop("checked")||n(e),t.closest(".ft-field").addClass("ft-conditions")}),l("[data-ft-target]").each(function(){var t=l(this),e=t.attr("data-ft-target");t.is("option")?t.prop("selected")&&o(e):t.prop("checked")&&o(e),t.closest(".ft-field").addClass("ft-conditions")}),l(document).on("change",".ft-conditions input, .ft-conditions select",function(){var t=l(this),e="";if(t.is("select")){var i=t.val(),r=[];if(l.isArray(i)){for(var s=0;s<i.length;s++){var a=t.find('[value="'+i[s]+'"]').attr("data-ft-target");void 0!==a&&r.push(a)}e=r.join(",")}else e=t.find(":selected").attr("data-ft-target")}else e=t.attr("data-ft-target");t.closest(".ft-field").find("[data-ft-target]").each(function(){n(l(this).attr("data-ft-target"))}),""!==e&&(t.is("[type=checkbox]")&&0==t.prop("checked")?n(e):o(e))}))}()}()})}(jQuery);